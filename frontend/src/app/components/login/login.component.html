<div class="backdrop">
</div>

<div class="modal" style="z-index: 1000000000000000000000000000000000000000000000;">
  <div class="modal-wrapper">
    <div class="modal-content">
      <div class="modalTitle">
        <p>{{'login.title' | translate}}</p>
        <div class="modalClose" (click)="closeModal('cancel')">
          <img src="assets/imgs/general/close.svg"/>
        </div>
      </div>

      <div class="loginForm">
        <form *ngIf="loginOrRegister === 'login'" [formGroup]="loginForm" (submit)="manualLogin()">
          <!-- Email -->
          <div class="formLabel">
            <p>{{'login.email' | translate}}</p>
          </div>
          <div class="formInput" [ngClass]="checkIfFieldIsValid(loginForm, 'email') ? '' : 'invalidInput'">
            <img class="blueIcon" src="assets/imgs/general/mail.svg"/>
            <input formControlName="email" placeholder="{{'login.email' | translate}}">
          </div>

          <!-- Password -->
          <div class="formLabel">
            <p>{{'login.password' | translate}}</p>
          </div>
          <div class="formInput" [ngClass]="checkIfFieldIsValid(loginForm, 'password') ? '' : 'invalidInput'">
            <img class="blueIcon" src="assets/imgs/login/lock.svg"/>
            <input [type]="loginForm.value.isPasswordShown ? 'text' : 'password'" formControlName="password" placeholder="{{'login.password' | translate}}">
            <img class="cursor blueIcon" [src]="loginForm.value.isPasswordShown ? 'assets/imgs/login/eye.svg' :'assets/imgs/login/eye-off.svg'" (click)="viewHidePassword(loginForm, 'isPasswordShown')"/>
          </div>

          <div class="buttonRow">
            <p (click)="changeToLoginRegister('register')">{{'login.registerMsg' | translate}}</p>
            <button type="submit">{{'login.login' | translate}}</button>
          </div>
        </form>

        <form *ngIf="loginOrRegister === 'register'" [formGroup]="registerForm" (ngSubmit)="manualSignUp()">

          <div class="row">

            <div class="imgCol cursor" (click)="fileUploadClick()">
              <div [ngClass]="registerForm.value.fileBase64.length > 0 ? '' : 'blueIcon'" class="imgBackground" [style]="registerForm.value.photo ? returnCSS(registerForm.value.fileBase64) : returnCSS('assets/imgs/header/person.svg')">
              </div>
              <input style="display: none" #userImage id="userImage" type="file" accept="image/jpeg, image/png, image/jpg" (change)="getFile($event.target)" [multiple]="false"/>
            </div>

            <div class="nameLastnameCol">
                <!-- name -->
                <div class="formLabel">
                  <p>{{'login.name' | translate}}</p>
                </div>
                <div class="formInput" [ngClass]="checkIfFieldIsValid(registerForm, 'name') ? '' : 'invalidInput'">
                  <img class="blueIcon" src="assets/imgs/header/person.svg"/>
                  <input formControlName="name" placeholder="{{'login.name' | translate}}">
                </div>

                <!-- Lastname -->
                <div class="formLabel">
                  <p>{{'login.lastname' | translate}}</p>
                </div>
                <div class="formInput" [ngClass]="checkIfFieldIsValid(registerForm, 'lastname') ? '' : 'invalidInput'">
                  <img class="blueIcon" src="assets/imgs/header/person.svg"/>
                  <input formControlName="lastname" placeholder="{{'login.lastname' | translate}}">
                </div>
            </div>

          </div>


          <!-- Email -->
          <div class="formLabel">
            <p>{{'login.email' | translate}}</p>
          </div>
          <div class="formInput" [ngClass]="checkIfFieldIsValid(registerForm, 'email') ? '' : 'invalidInput'">
            <img class="blueIcon" src="assets/imgs/general/mail.svg"/>
            <input formControlName="email" placeholder="{{'login.email' | translate}}">
          </div>

          <!-- Phone -->
          <div class="formLabel">
            <p>{{'login.phone' | translate}}</p>
          </div>
          <div class="formInput" [ngClass]="checkIfFieldIsValid(registerForm, 'phone') ? '' : 'invalidInput'">
            <img class="blueIcon" src="assets/imgs/header/call.svg"/>
            <input formControlName="phone" placeholder="{{'login.phone' | translate}}">
          </div>

          <!-- Password -->
          <div class="formLabel">
            <p>{{'login.password' | translate}}</p>
          </div>
          <div class="formInput" [ngClass]="checkIfFieldIsValid(registerForm, 'password') && checkPasswordConfirmPassword() ? '' : 'invalidInput'">
            <img class="blueIcon" src="assets/imgs/login/lock.svg"/>
            <input [type]="registerForm.value.isPasswordShown ? 'text' : 'password'" formControlName="password" placeholder="{{'login.password' | translate}}">
            <img class="cursor blueIcon" [src]="registerForm.value.isPasswordShown ? 'assets/imgs/login/eye.svg' :'assets/imgs/login/eye-off.svg'" (click)="viewHidePassword(registerForm, 'isPasswordShown')"/>
          </div>

          <!-- confirmPassword -->
          <div class="formLabel">
            <p>{{'login.confirmPassword' | translate}}</p>
          </div>
          <div class="formInput" [ngClass]="checkIfFieldIsValid(registerForm, 'confirmPassword') && checkPasswordConfirmPassword() ? '' : 'invalidInput'">
            <img class="blueIcon" src="assets/imgs/login/lock.svg"/>
            <input [type]="registerForm.value.isConfirmPasswordShown ? 'text' : 'password'" formControlName="confirmPassword" placeholder="{{'login.confirmPassword' | translate}}">
            <img class="cursor blueIcon" [src]="registerForm.value.isConfirmPasswordShown ? 'assets/imgs/login/eye.svg' :'assets/imgs/login/eye-off.svg'" (click)="viewHidePassword(registerForm, 'isConfirmPasswordShown')"/>
          </div>

          <div class="buttonRow">
            <p (click)="changeToLoginRegister('login')">{{'login.loginMsg' | translate}}</p>
            <button type="submit">{{'login.register' | translate}}</button>
          </div>
        </form>
      </div>

      <div class="OrRow">
        <div class="blueLine"></div>
        <div class="blueOr">{{'login.or' | translate}}</div>
        <div class="blueLine"></div>
      </div>

      <div class="loginButtons">

        <asl-google-signin-button type='standard' size='large'>
        </asl-google-signin-button>
        <button class="facebookButton" (click)="loginWithFacebook()">
          <img src="assets/imgs/login/facebook-logo.svg">
          <p>{{'login.facebookLogin' | translate}}</p>
        </button>
      </div>
    </div>
  </div>
</div>



